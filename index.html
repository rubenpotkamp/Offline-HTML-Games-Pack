<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Games</title>
    <style>
      #games-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 10px;
        margin-bottom: 20px;
      }

      .game-button {
        padding: 10px;
        background: #222;
        color: white;
        border: 1px solid #444;
        border-radius: 6px;
        cursor: pointer;
      }

      .game-button:hover {
        background: #444;
      }
    </style>
  </head>
  <body>
    <h2>ðŸŽ® Games</h2>
    <div id="games-list"></div>

    <script>
      const owner = "rubenpotkamp";
      const repo = "Offline-HTML-Games-Pack";
      const path = "offline";
      const pagesBase = "https://rubenpotkamp.github.io/Offline-HTML-Games-Pack/";

      const listDiv = document.getElementById("games-list");

      // Games ophalen
      fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`)
        .then(res => res.json())
        .then(files => {
          files
            .filter(file => file.name.endsWith(".html"))
            .forEach(file => {
              const btn = document.createElement("button");
              btn.textContent = file.name.replace(".html", "");
              btn.className = "game-button";

              btn.onclick = () => {
                const gameUrl = pagesBase + path + "/" + file.name;
                window.open(gameUrl, "_blank");
              };


              listDiv.appendChild(btn);
            });
        })
        .catch(err => {
          console.error("Fout bij laden games:", err);
          listDiv.textContent = "Kon games niet laden.";
        });
    </script>
  </body>
</html>
